<nav class="py-4 text-center text-white relative" aria-label="Menú de navegación principal">
  <!-- Logo -->
  <div class="flex justify-center mb-4">
    <img src="assets/logo-vimerzion.svg" class="w-2/3 sm:w-1/2 md:w-1/3 h-auto" alt="Logo de Vimerzion">
  </div>

  <!-- Menú con enlaces activos -->
  <ul class="flex flex-wrap justify-center items-center gap-4 sm:gap-6 md:gap-8">
    <!-- Menú por defecto (no autenticado o cliente) -->
    <ng-container *ngIf="showDefaultMenu">
      <li>
        <a routerLink="/inicio" class="text-base sm:text-lg md:text-xl font-bold hover:text-[#00eefd] transition relative"
          [ngClass]="{'active-link': currentSection === 'inicio'}">
          Inicio
        </a>
      </li>
      <li class="hidden sm:block mx-2 md:mx-4">|</li>
      <li>
        <a routerLink="/servicios" class="text-base sm:text-lg md:text-xl font-bold hover:text-[#00eefd] transition relative"
          [ngClass]="{'active-link': currentSection === 'servicios'}">
          Servicios
        </a>
      </li>
      <li class="hidden sm:block mx-2 md:mx-4">|</li>
      <li>
        <a routerLink="/catalogo" class="text-base sm:text-lg md:text-xl font-bold hover:text-[#00eefd] transition relative"
          [ngClass]="{'active-link': currentSection === 'catalogo'}">
          Catálogo
        </a>
      </li>
      <li class="hidden sm:block mx-2 md:mx-4">|</li>
      <li>
        <a routerLink="/tecnologias" class="text-base sm:text-lg md:text-xl font-bold hover:text-[#00eefd] transition relative"
          [ngClass]="{'active-link': currentSection === 'tecnologias'}">
          Tecnologías
        </a>
      </li>
      <!-- Mostrar Login solo si no está autenticado -->
      <ng-container *ngIf="!isAuthenticated">
        <li class="hidden sm:block mx-2 md:mx-4">|</li>
        <li>
          <a routerLink="/login" class="text-base sm:text-lg md:text-xl font-bold hover:text-[#00eefd] transition relative"
            [ngClass]="{'active-link': currentSection === 'login'}">
            Login
          </a>
        </li>
      </ng-container>
    </ng-container>

    <!-- Menú para administrador -->
    <ng-container *ngIf="isAdmin">
      <li>
        <a routerLink="/ordenes" class="text-base sm:text-lg md:text-xl font-bold hover:text-[#00eefd] transition relative"
          [ngClass]="{'active-link': currentSection === 'ordenes'}">
          Pedidos
        </a>
      </li>
      <li class="hidden sm:block mx-2 md:mx-4">|</li>
      <li>
        <a routerLink="#" class="text-base sm:text-lg md:text-xl font-bold hover:text-[#00eefd] transition relative"
          [ngClass]="{'active-link': currentSection === 'usuarios'}">
          Usuarios
        </a>
      </li>
      <li class="hidden sm:block mx-2 md:mx-4">|</li>
      <li>
        <a routerLink="/lista-servicios" class="text-base sm:text-lg md:text-xl font-bold hover:text-[#00eefd] transition relative"
          [ngClass]="{'active-link': currentSection === 'lista-servicios'}">
          Servicios
        </a>
      </li>
      <li class="hidden sm:block mx-2 md:mx-4">|</li>
      <li>
        <a routerLink="/#" class="text-base sm:text-lg md:text-xl font-bold hover:text-[#00eefd] transition relative"
          [ngClass]="{'active-link': currentSection === 'gestion-tecnologias'}">
          Tecnologías
        </a>
      </li>
      <li class="hidden sm:block mx-2 md:mx-4">|</li>
      <li>
        <a routerLink="/lista-juegos" class="text-base sm:text-lg md:text-xl font-bold hover:text-[#00eefd] transition relative"
          [ngClass]="{'active-link': currentSection === 'lista-juegos'}">
          catalogo
        </a>
      </li>
      <li class="hidden sm:block mx-2 md:mx-4">|</li>
      <li>
        <a routerLink="/#" class="text-base sm:text-lg md:text-xl font-bold hover:text-[#00eefd] transition relative"
          [ngClass]="{'active-link': currentSection === '#'}">
          Paquetes
        </a>
      </li>
    </ng-container>
  </ul>

  <!-- Botones de la derecha (carrito y perfil) -->
  <div class="absolute top-4 right-4 flex items-center gap-4">
    <!-- Carrito (visible para todos excepto admin) -->
    <ng-container *ngIf="!isAdmin">
      <button (click)="toggleCarrito()" class="relative">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h18M9 17h6m-3-7v10" />
        </svg>
        <span class="absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-2">
          {{ carritoCount }}
        </span>
      </button>
    </ng-container>

    <!-- Icono de usuario y menú desplegable (solo para cliente autenticado) -->
    <div *ngIf="isClient" class="relative">
      <button (click)="toggleUserMenu()" class="text-white hover:text-[#00eefd]">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
      </button>
      
      <!-- Menú desplegable -->
      <div *ngIf="isUserMenuOpen" 
           class="absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5">
        <div class="py-1">
          <a routerLink="/ordenes" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
            Mis Pedidos
          </a>
          <button (click)="logout()" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
            Cerrar Sesión
          </button>
        </div>
      </div>
    </div>

    <!-- Botón de cerrar sesión para administrador -->
    <button *ngIf="isAdmin" (click)="logout()" 
            class="text-white hover:text-[#00eefd] text-base sm:text-lg font-bold">
      Cerrar Sesión
    </button>
  </div>
</nav>

<!-- Carrito deslizante -->
<app-carrito *ngIf="isCarritoOpen && !isAdmin"
(finalizarCompraEvent)="navegarACheckout()"></app-carrito>