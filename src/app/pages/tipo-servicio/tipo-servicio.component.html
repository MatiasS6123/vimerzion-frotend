<section class="w-full">
    <!-- Título principal -->
    <h2
        class="text-4xl sm:text-3xl md:text-4xl font-nexaHeavy uppercase font-bold text-center text-[#f1f1f1] mb-4 sm:mb-8">
        <span class="bg-[#00eefd] text-black px-2 py-1 -skew-x-12 font-nexaHeavy inline-block">
            {{ tipoServicio === 'local' ? 'Servicios en Local' : 'Servicios a Domicilio' }}
        </span>
    </h2>
    

    <!-- Contenedor principal del slider -->
    <div *ngIf="fotos.length > 0; else noFotos" class="w-full px-4 md:px-8 max-w-6xl mx-auto relative">
        <div class="rounded-lg shadow-md p-4 sm:p-6 w-full max-w-[580px] mx-auto">
            <div class="relative w-full h-auto rounded-lg overflow-hidden">
                <div *ngFor="let foto of fotos; let i = index" [class.hidden]="i !== currentIndex"
                    class="w-full text-center">
                    <img [src]="foto.imagenUrl" [alt]="foto.titulo"
                        class="object-cover w-full h-[420px] mx-auto rounded-md mb-4 sm:mb-6" />

                    <h3
                        class="text-xl sm:text-2xl md:text-[30px] font-nexaRegular font-bold text-[#f1f1f1] mb-4 uppercase">
                        {{ foto.titulo }}
                    </h3>

                    <p class="text-base sm:text-lg md:text-xl text-[#f1f1f1] font-nexaBold mb-6"
                        [innerHTML]="foto.descripcion"></p>
                    <br>
                    

                    <!-- Sección de planes (si existen) -->
                    <div *ngIf="fotos[currentIndex].planes?.length > 0" class="mb-8">
                        
                        <h4 class="text-lg sm:text-xl font-bold text-[#f1f1f1] mb-4">Planes y Tarifas Disponibles</h4>

                        <div class="relative w-full max-w-md mx-auto">
                            <!-- Carrusel de planes -->
                            <div class="text-center bg-[#1d1867] p-4 rounded-lg shadow-md">
                            
                                <h5 class="text-xl font-bold text-[#00eefd]">{{ fotos[currentIndex].planes[currentPlanIndex].nombre }}</h5>
                                <p class="text-lg text-[#f1f1f1] font-semibold">{{ fotos[currentIndex].planes[currentPlanIndex].valor }}</p>
                                <p class="text-sm text-[#f1f1f1]" [innerHTML]="fotos[currentIndex].planes[currentPlanIndex].detalles"></p>
                                
                            </div>

                            <!-- Botón para ir al slide anterior -->
                            <button (click)="prevPlanSlide()" 
                                class="absolute left-0 top-1/2 -translate-y-1/2 p-2 bg-[#00eefd] rounded-full shadow-md">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                                </svg>
                            </button>

                            <!-- Botón para ir al siguiente slide -->
                            <button (click)="nextPlanSlide()" 
                                class="absolute right-0 top-1/2 -translate-y-1/2 p-2 bg-[#00eefd] rounded-full shadow-md">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                </svg>
                            </button>
                        </div>
                        
                    </div>
                    <!-- Disclaimer visible solo si el tipo de servicio es 'local' -->
<div *ngIf="tipoServicio === 'local'" class="w-full max-w-xl mx-auto my-6 px-4">
  <div class="bg-[#1d1867] border-l-4 border-[#00eefd] p-4 rounded-lg shadow-md">
    <p class="text-[#f1f1f1] text-sm sm:text-base font-nexaBold text-center">
      ⚠️ <span class="text-[#00eefd] font-nexaHeavy">Importante:</span>
      Solo atendemos con reservas. Asegúrate de reservar con anticipación para garantizar tu visita.
    </p>
  </div>
</div>


                    <!-- Botón "Cotiza aquí" -->
                    <a class="inline-block w-full sm:w-[70%] md:w-[50%] bg-[#00eefd] text-center font-bold px-6 py-3 sm:px-10 sm:py-4 rounded-full hover:from-[#00cce3] hover:to-[#00a3b3] transition-all duration-300 shadow-lg mb-4">
                        <span class="text-[#1d1867] font-bold text-lg sm:text-xl md:text-[28px] tracking-wide">
                            <button (click)="onBotonClick()" class="...">
                                {{ getTextoBoton() }}
                              </button>
                        </span>
                    </a>
                      


<!-- Enlaces adicionales: en columna -->
<div class="flex flex-col items-center gap-4 mb-8">
<!-- boton preguntas frecuentes-->
<a
    [routerLink]="'/preguntas-frecuentes'"  
    
    target="_blank"
    (click)="irAPreguntasFrecuentes()"

    class="flex flex-col items-center text-[#00eefd] font-bold underline hover:text-[#00cce3] transition-colors duration-300 text-base sm:text-lg gap-2"
>
  Preguntas Frecuentes
<svg class="w-6 h-6" fill="#00eefd" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
    <g id="SVGRepo_iconCarrier">
        <g data-name="Layer 2">
            <g data-name="menu-arrow-circle">
                <rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"></rect>
                <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"></path>
                <path d="M12 6a3.5 3.5 0 0 0-3.5 3.5 1 1 0 0 0 2 0A1.5 1.5 0 1 1 12 11a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.16A3.49 3.49 0 0 0 12 6z"></path>
                <circle cx="12" cy="17" r="1"></circle>
            </g>
        </g>
    </g>
</svg>
</a>


    <!-- Puntos y gemas -->
<a  *ngIf="shouldShowOptions()"
    [routerLink]="'/puntos-y-gemas'"  
    target="_blank"
    class="flex flex-col items-center text-[#00eefd] font-bold underline hover:text-[#00cce3] transition-colors duration-300 text-base sm:text-lg gap-2">
   Puntos y Gemas
   <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="#00eefd">
      <path fill="#9450e0" d="M41 4H23L2 20.1L32 60l30-39.9z"></path>
      <g fill="#c28fef">
         <path d="M32 60l12.5-39.9H18.8z"></path>
         <path d="M9.5 9.5L2 20.1h16.8L23 4z"></path>
         <path d="M54.5 9.5L41 4l3.5 16.1H62z"></path>
      </g>
   </svg>
</a>
<div class="flex flex-row gap-4">

  <!-- Desafios -->
  <a *ngIf="shouldShowOptions()"
  [routerLink]="'/desafios'"  
  target="_blank"
  class="flex flex-col items-center text-[#00eefd] font-bold underline hover:text-[#00cce3] transition-colors duration-300 text-base sm:text-lg gap-2">
 Desafíos
 <svg 
 viewBox="0 0 36 36" 
 class="w-6 h-6 object-contain" 
 xmlns="http://www.w3.org/2000/svg" 
 xmlns:xlink="http://www.w3.org/1999/xlink" 
 aria-hidden="true" 
 role="img" 
 preserveAspectRatio="xMidYMid meet">
 <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
 <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
 <g id="SVGRepo_iconCarrier">
   <circle fill="#DD2E44" cx="18" cy="18" r="18"></circle>
   <circle fill="#FFF" cx="18" cy="18" r="13.5"></circle>
   <circle fill="#DD2E44" cx="18" cy="18" r="10"></circle>
   <circle fill="#FFF" cx="18" cy="18" r="6"></circle>
   <circle fill="#DD2E44" cx="18" cy="18" r="3"></circle>
   <path opacity=".2" d="M18.24 18.282l13.144 11.754s-2.647 3.376-7.89 5.109L17.579 18.42l.661-.138z" fill="#000000"></path>
   <path fill="#FFAC33" d="M18.294 19a.994.994 0 0 1-.704-1.699l.563-.563a.995.995 0 0 1 1.408 1.407l-.564.563a.987.987 0 0 1-.703.292z"></path>
   <path fill="#55ACEE" d="M24.016 6.981c-.403 2.079 0 4.691 0 4.691l7.054-7.388c.291-1.454-.528-3.932-1.718-4.238c-1.19-.306-4.079.803-5.336 6.935zm5.003 5.003c-2.079.403-4.691 0-4.691 0l7.388-7.054c1.454-.291 3.932.528 4.238 1.718c.306 1.19-.803 4.079-6.935 5.336z"></path>
   <path fill="#3A87C2" d="M32.798 4.485L21.176 17.587c-.362.362-1.673.882-2.51.046c-.836-.836-.419-2.08-.057-2.443L31.815 3.501s.676-.635 1.159-.152s-.176 1.136-.176 1.136z"></path>
 </g>
</svg>

  </a>
   <!-- Torneos -->
   <a  *ngIf="shouldShowOptions()"
   [routerLink]="'/torneos'"  
   target="_blank"
   class="flex flex-col items-center text-[#00eefd] font-bold underline hover:text-[#00cce3] transition-colors duration-300 text-base sm:text-lg gap-2">
  Torneos
 
<svg 
  viewBox="0 0 36 36" 
  class="w-6 h-6 object-contain" 
  xmlns="http://www.w3.org/2000/svg" 
  xmlns:xlink="http://www.w3.org/1999/xlink" 
  aria-hidden="true" 
  role="img" 
  preserveAspectRatio="xMidYMid meet">
  <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
  <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
  <g id="SVGRepo_iconCarrier">
    <circle fill="#DD2E44" cx="18" cy="18" r="18"></circle>
    <circle fill="#FFF" cx="18" cy="18" r="13.5"></circle>
    <circle fill="#DD2E44" cx="18" cy="18" r="10"></circle>
    <circle fill="#FFF" cx="18" cy="18" r="6"></circle>
    <circle fill="#DD2E44" cx="18" cy="18" r="3"></circle>
    <path opacity=".2" d="M18.24 18.282l13.144 11.754s-2.647 3.376-7.89 5.109L17.579 18.42l.661-.138z" fill="#000000"></path>
    <path fill="#FFAC33" d="M18.294 19a.994.994 0 0 1-.704-1.699l.563-.563a.995.995 0 0 1 1.408 1.407l-.564.563a.987.987 0 0 1-.703.292z"></path>
    <path fill="#55ACEE" d="M24.016 6.981c-.403 2.079 0 4.691 0 4.691l7.054-7.388c.291-1.454-.528-3.932-1.718-4.238c-1.19-.306-4.079.803-5.336 6.935zm5.003 5.003c-2.079.403-4.691 0-4.691 0l7.388-7.054c1.454-.291 3.932.528 4.238 1.718c.306 1.19-.803 4.079-6.935 5.336z"></path>
    <path fill="#3A87C2" d="M32.798 4.485L21.176 17.587c-.362.362-1.673.882-2.51.046c-.836-.836-.419-2.08-.057-2.443L31.815 3.501s.676-.635 1.159-.152s-.176 1.136-.176 1.136z"></path>
  </g>
</svg>
   </a>
</div>
</div>

                    <!-- Logos -->
                    <div class="flex justify-center items-center gap-6 sm:gap-8 lg:gap-12 mb-12 flex-wrap">
                        <img src="assets/PlayStation_VR2_logo (1).svg" alt="PlayStation VR"
                            class="h-24 sm:h-24 lg:h-24 max-w-[140px]">
                        <img src="assets/Oculus_(10).svg" alt="Oculus" class="h-9 sm:h-16 lg:h-16 max-w-[120px]">
                        <img src="assets/Nintendo_Switch_Logo (1).svg" alt="Nintendo Switch"
                            class="h-12 sm:h-16 lg:h-12 max-w-[120px]">
                        <img src="assets/kat-vr.svg" alt="Kat VR" class="h-5 sm:h-16 lg:h-5 max-w-[120px]">
                    </div>
                </div>
            </div>
        </div>

        <!-- Navegación de imágenes -->
        <button (click)="prevSlide()"
            class="absolute left-0 sm:left-4 top-1/4 sm:top-1/4 -translate-y-1/2 text-[#00eefd] p-2 transition-colors z-10"
            *ngIf="fotos.length > 1">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 sm:h-16 sm:w-16" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>

        <button (click)="nextSlide()"
            class="absolute right-0 sm:right-4 top-1/4 sm:top-1/4 -translate-y-1/2 text-[#00eefd] p-2 transition-colors z-10"
            *ngIf="fotos.length > 1">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 sm:h-16 sm:w-16" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
        </button>

    </div>

    
    <!-- No photos placeholder -->
    <ng-template #noFotos>
        <div class="text-center text-gray-400 p-4">
            <p class="text-base sm:text-lg">No hay imágenes disponibles para este servicio.</p>
        </div>
    </ng-template>
</section>