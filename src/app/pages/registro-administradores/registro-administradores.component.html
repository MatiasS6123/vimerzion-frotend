<section class="container mx-auto px-4 py-10">
  <!-- Encabezado -->
  <header class="text-center mb-8">
    <h1 class="text-3xl font-extrabold text-gradient bg-clip-text text-transparent bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500">
      {{ isEditMode ? 'Actualizar Usuario' : 'Registrar Usuario' }}
    </h1>
  </header>

  <!-- Contenedor del formulario -->
  <div class="flex justify-center items-center">
    <form
      [formGroup]="userForm"
      (ngSubmit)="onSubmit()"
      class="max-w-4xl w-full bg-white p-10 rounded-xl shadow-lg border border-gray-200"
    >
      <div class="grid grid-cols-2 gap-6">
        <!-- Nombre de Usuario -->
        <div>
          <label for="username" class="block text-sm font-medium text-gray-700 mb-2">
            Nombre de Usuario
          </label>
          <input
            id="username"
            type="text"
            formControlName="username"
            class="w-full border border-gray-300 rounded-lg shadow-sm px-4 py-2 focus:outline-none focus:ring focus:ring-blue-300 transition"
          />
          <small
            *ngIf="userForm.get('username')?.invalid && userForm.get('username')?.touched"
            class="text-red-500 mt-1"
          >
            El nombre de usuario debe tener al menos 3 caracteres.
          </small>
        </div>

        <!-- Correo Electrónico -->
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
            Correo Electrónico
          </label>
          <input
            id="email"
            type="email"
            formControlName="email"
            class="w-full border border-gray-300 rounded-lg shadow-sm px-4 py-2 focus:outline-none focus:ring focus:ring-blue-300 transition"
          />
          <small
            *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched"
            class="text-red-500 mt-1"
          >
            Ingresa un correo electrónico válido.
          </small>
        </div>

        <div class="mb-4 col-span-2">
          <div class="flex items-center">
              <input
                  id="activo"
                  type="checkbox"
                  formControlName="activo"
                  class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <label for="activo" class="ml-2 text-sm font-medium text-gray-700">
                  ¿Usuario Activo?
              </label>
          </div>
      </div>

        <!-- Rol -->
        <div>
          <label for="rol" class="block text-sm font-medium text-gray-700 mb-2">
            Rol
          </label>
          <select
            id="rol"
            formControlName="nombreRol"
            class="w-full border border-gray-300 rounded-lg shadow-sm px-4 py-2 focus:outline-none focus:ring focus:ring-blue-300 transition"
          >
            <option value="CLIENTE">Cliente</option>
            <option value="ADMINISTRADOR">Administrador</option>
          </select>
        </div>

        
      </div>

      <!-- Actualizar contraseña -->
      <div class="flex items-center mt-6">
        <input
          type="checkbox"
          id="updatePassword"
          (change)="togglePasswordInput()"
          class="mr-3 h-5 w-5 text-blue-500 focus:ring focus:ring-blue-300 transition"
        />
        <label for="updatePassword" class="text-sm font-medium text-gray-700">
          ¿Actualizar Contraseña?
        </label>
      </div>

      <!-- Nueva contraseña -->
      <div class="mt-4" *ngIf="showPasswordInput">
        <label for="newPassword" class="block text-sm font-medium text-gray-700 mb-2">
          Nueva Contraseña
        </label>
        <input
          id="password"
          type="password"
          formControlName="password"
          class="w-full border border-gray-300 rounded-lg shadow-sm px-4 py-2 focus:outline-none focus:ring focus:ring-blue-300 transition"
        />
        <small
          *ngIf="userForm.get('newPassword')?.invalid && userForm.get('newPassword')?.touched"
          class="text-red-500 mt-1"
        >
          La contraseña debe tener al menos 8 caracteres.
        </small>
      </div>

      <!-- Botón -->
      <div class="text-center mt-8">
        <button
          type="submit"
          class="bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold px-8 py-3 rounded-lg shadow-md hover:shadow-lg hover:brightness-110 transition"
        >
          {{ isEditMode ? 'Actualizar Usuario' : 'Registrar Usuario' }}
        </button>
      </div>
    </form>
  </div>
</section>
